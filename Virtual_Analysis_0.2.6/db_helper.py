# coding=UTF-8
import MySQLdb

def create_table(table_name):
    conn = MySQLdb.connect("localhost", "root", "root", "yjj_design")
    if table_name == "first_part":
        table_setting = "first_part_data(Id INT PRIMARY KEY AUTO_INCREMENT, Second INT, MilliSecond INT, Len INT," \
                        "Src_mac VARCHAR(16), Dst_mac VARCHAR(16), IP_version INT, Src_IP VARCHAR(16)," \
                        "Dst_IP VARCHAR(16), Tcp_head_len INT,Flag INT, Option_len INT, Option_content VARCHAR(32))"
    elif table_name == "TCP_part":
        table_setting = "tcp_part_data(Id INT, Src_port INT, Dst_port INT, Seq_num INT, Ack_num INT, Tcp_head_len INT,"\
                        "Flag INT, Option_len INT, Option_content VARCHAR(32))"
    else:
        print("error")
        return

    try:
        cursor = conn.cursor()
        sql = "CREATE TABLE IF NOT EXISTS "+table_setting
        print(sql)
        cursor.execute(sql)
    except:
        conn.rollback()
    finally:
        conn.close()
        return


if __name__ == '__main__':
     tables = ["first_part", "TCP_part", "  "]
     for table in tables:
         create_table(table)